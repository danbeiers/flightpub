{"ast":null,"code":"import { dataText } from './Accessors';\nimport { useMemo } from 'react';\nexport const presets = {\n  eq: (a, b) => a === b,\n  contains: (a, b) => a.indexOf(b) !== -1,\n  startsWith: (a, b) => a.lastIndexOf(b, 0) === 0\n};\n\nfunction normalizeFilter(filter, textField) {\n  if (filter === false) return null;\n  if (typeof filter === 'function') return filter;\n  const filterPreset = presets[filter === true ? 'startsWith' : filter || 'eq'];\n  return (item, searchTerm) => {\n    let textValue = dataText(item, textField);\n    return filterPreset(textValue.toLowerCase(), searchTerm.toLowerCase());\n  };\n}\n\nexport function useFilteredData(data, filterer) {\n  let searchTerm = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  let textAccessor = arguments.length > 3 ? arguments[3] : undefined;\n  return useMemo(() => {\n    const filter = normalizeFilter(filterer, textAccessor);\n    if (!filter || !searchTerm.trim()) return data;\n    return data.filter((item, idx) => filter(item, searchTerm, idx));\n  }, [data, filterer, searchTerm, textAccessor]);\n}","map":{"version":3,"sources":["C:/Users/ewart/OneDrive/Documents/GitHub/flightpub/client/node_modules/react-widgets/esm/Filter.js"],"names":["dataText","useMemo","presets","eq","a","b","contains","indexOf","startsWith","lastIndexOf","normalizeFilter","filter","textField","filterPreset","item","searchTerm","textValue","toLowerCase","useFilteredData","data","filterer","textAccessor","trim","idx"],"mappings":"AAAA,SAASA,QAAT,QAAyB,aAAzB;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,OAAO,MAAMC,OAAO,GAAG;AACrBC,EAAAA,EAAE,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,KAAKC,CADC;AAErBC,EAAAA,QAAQ,EAAE,CAACF,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACG,OAAF,CAAUF,CAAV,MAAiB,CAAC,CAFjB;AAGrBG,EAAAA,UAAU,EAAE,CAACJ,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACK,WAAF,CAAcJ,CAAd,EAAiB,CAAjB,MAAwB;AAHzB,CAAhB;;AAMP,SAASK,eAAT,CAAyBC,MAAzB,EAAiCC,SAAjC,EAA4C;AAC1C,MAAID,MAAM,KAAK,KAAf,EAAsB,OAAO,IAAP;AACtB,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkC,OAAOA,MAAP;AAClC,QAAME,YAAY,GAAGX,OAAO,CAACS,MAAM,KAAK,IAAX,GAAkB,YAAlB,GAAiCA,MAAM,IAAI,IAA5C,CAA5B;AACA,SAAO,CAACG,IAAD,EAAOC,UAAP,KAAsB;AAC3B,QAAIC,SAAS,GAAGhB,QAAQ,CAACc,IAAD,EAAOF,SAAP,CAAxB;AACA,WAAOC,YAAY,CAACG,SAAS,CAACC,WAAV,EAAD,EAA0BF,UAAU,CAACE,WAAX,EAA1B,CAAnB;AACD,GAHD;AAID;;AAED,OAAO,SAASC,eAAT,CAAyBC,IAAzB,EAA+BC,QAA/B,EAAwE;AAAA,MAA/BL,UAA+B,uEAAlB,EAAkB;AAAA,MAAdM,YAAc;AAC7E,SAAOpB,OAAO,CAAC,MAAM;AACnB,UAAMU,MAAM,GAAGD,eAAe,CAACU,QAAD,EAAWC,YAAX,CAA9B;AACA,QAAI,CAACV,MAAD,IAAW,CAACI,UAAU,CAACO,IAAX,EAAhB,EAAmC,OAAOH,IAAP;AACnC,WAAOA,IAAI,CAACR,MAAL,CAAY,CAACG,IAAD,EAAOS,GAAP,KAAeZ,MAAM,CAACG,IAAD,EAAOC,UAAP,EAAmBQ,GAAnB,CAAjC,CAAP;AACD,GAJa,EAIX,CAACJ,IAAD,EAAOC,QAAP,EAAiBL,UAAjB,EAA6BM,YAA7B,CAJW,CAAd;AAKD","sourcesContent":["import { dataText } from './Accessors';\nimport { useMemo } from 'react';\nexport const presets = {\n  eq: (a, b) => a === b,\n  contains: (a, b) => a.indexOf(b) !== -1,\n  startsWith: (a, b) => a.lastIndexOf(b, 0) === 0\n};\n\nfunction normalizeFilter(filter, textField) {\n  if (filter === false) return null;\n  if (typeof filter === 'function') return filter;\n  const filterPreset = presets[filter === true ? 'startsWith' : filter || 'eq'];\n  return (item, searchTerm) => {\n    let textValue = dataText(item, textField);\n    return filterPreset(textValue.toLowerCase(), searchTerm.toLowerCase());\n  };\n}\n\nexport function useFilteredData(data, filterer, searchTerm = '', textAccessor) {\n  return useMemo(() => {\n    const filter = normalizeFilter(filterer, textAccessor);\n    if (!filter || !searchTerm.trim()) return data;\n    return data.filter((item, idx) => filter(item, searchTerm, idx));\n  }, [data, filterer, searchTerm, textAccessor]);\n}"]},"metadata":{},"sourceType":"module"}